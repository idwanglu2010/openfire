<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_45) on Tue May 06 13:58:26 CDT 2014 -->
<TITLE>
PubSubPersistenceManager (Openfire 3.9.3 Javadoc)
</TITLE>

<META NAME="date" CONTENT="2014-05-06">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="PubSubPersistenceManager (Openfire 3.9.3 Javadoc)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<b>Openfire 3.9.3 Javadoc</b></EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/jivesoftware/openfire/pubsub/PubSubModule.html" title="class in org.jivesoftware.openfire.pubsub"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/jivesoftware/openfire/pubsub/PubSubService.html" title="interface in org.jivesoftware.openfire.pubsub"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/jivesoftware/openfire/pubsub/PubSubPersistenceManager.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="PubSubPersistenceManager.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.jivesoftware.openfire.pubsub</FONT>
<BR>
Class PubSubPersistenceManager</H2>
<PRE>
<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>org.jivesoftware.openfire.pubsub.PubSubPersistenceManager</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>PubSubPersistenceManager</B><DT>extends <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></DL>
</PRE>

<P>
A manager responsible for ensuring node persistence.
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>Matt Tucker</DD>
</DL>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../org/jivesoftware/openfire/pubsub/PubSubPersistenceManager.html#PubSubPersistenceManager()">PubSubPersistenceManager</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/jivesoftware/openfire/pubsub/PubSubPersistenceManager.html#createDefaultConfiguration(org.jivesoftware.openfire.pubsub.PubSubService, org.jivesoftware.openfire.pubsub.DefaultNodeConfiguration)">createDefaultConfiguration</A></B>(<A HREF="../../../../org/jivesoftware/openfire/pubsub/PubSubService.html" title="interface in org.jivesoftware.openfire.pubsub">PubSubService</A>&nbsp;service,
                           <A HREF="../../../../org/jivesoftware/openfire/pubsub/DefaultNodeConfiguration.html" title="class in org.jivesoftware.openfire.pubsub">DefaultNodeConfiguration</A>&nbsp;config)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new default node configuration for the specified service.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/jivesoftware/openfire/pubsub/PubSubPersistenceManager.html#createNode(org.jivesoftware.openfire.pubsub.Node)">createNode</A></B>(<A HREF="../../../../org/jivesoftware/openfire/pubsub/Node.html" title="class in org.jivesoftware.openfire.pubsub">Node</A>&nbsp;node)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates and stores the node configuration in the database.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/jivesoftware/openfire/pubsub/PubSubPersistenceManager.html#flushPendingItems()">flushPendingItems</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Flush the cache(s) of items to be persisted (itemsToAdd) and deleted (itemsToDelete).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/jivesoftware/openfire/pubsub/PubSubPersistenceManager.html#flushPendingItems(boolean)">flushPendingItems</A></B>(boolean&nbsp;sendToCluster)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Flush the cache(s) of items to be persisted (itemsToAdd) and deleted (itemsToDelete).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../../org/jivesoftware/openfire/pubsub/PublishedItem.html" title="class in org.jivesoftware.openfire.pubsub">PublishedItem</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/jivesoftware/openfire/pubsub/PubSubPersistenceManager.html#getLastPublishedItem(org.jivesoftware.openfire.pubsub.LeafNode)">getLastPublishedItem</A></B>(<A HREF="../../../../org/jivesoftware/openfire/pubsub/LeafNode.html" title="class in org.jivesoftware.openfire.pubsub">LeafNode</A>&nbsp;node)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fetches the last published item for the specified node.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../../org/jivesoftware/openfire/pubsub/PublishedItem.html" title="class in org.jivesoftware.openfire.pubsub">PublishedItem</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/jivesoftware/openfire/pubsub/PubSubPersistenceManager.html#getPublishedItem(org.jivesoftware.openfire.pubsub.LeafNode, java.lang.String)">getPublishedItem</A></B>(<A HREF="../../../../org/jivesoftware/openfire/pubsub/LeafNode.html" title="class in org.jivesoftware.openfire.pubsub">LeafNode</A>&nbsp;node,
                 <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;itemID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;<A HREF="../../../../org/jivesoftware/openfire/pubsub/PublishedItem.html" title="class in org.jivesoftware.openfire.pubsub">PublishedItem</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/jivesoftware/openfire/pubsub/PubSubPersistenceManager.html#getPublishedItems(org.jivesoftware.openfire.pubsub.LeafNode)">getPublishedItems</A></B>(<A HREF="../../../../org/jivesoftware/openfire/pubsub/LeafNode.html" title="class in org.jivesoftware.openfire.pubsub">LeafNode</A>&nbsp;node)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fetches all the results for the specified node, limited by <A HREF="../../../../org/jivesoftware/openfire/pubsub/LeafNode.html#getMaxPublishedItems()"><CODE>LeafNode.getMaxPublishedItems()</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;<A HREF="../../../../org/jivesoftware/openfire/pubsub/PublishedItem.html" title="class in org.jivesoftware.openfire.pubsub">PublishedItem</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/jivesoftware/openfire/pubsub/PubSubPersistenceManager.html#getPublishedItems(org.jivesoftware.openfire.pubsub.LeafNode, int)">getPublishedItems</A></B>(<A HREF="../../../../org/jivesoftware/openfire/pubsub/LeafNode.html" title="class in org.jivesoftware.openfire.pubsub">LeafNode</A>&nbsp;node,
                  int&nbsp;maxRows)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fetches all the results for the specified node, limited by <A HREF="../../../../org/jivesoftware/openfire/pubsub/LeafNode.html#getMaxPublishedItems()"><CODE>LeafNode.getMaxPublishedItems()</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../../org/jivesoftware/openfire/pubsub/DefaultNodeConfiguration.html" title="class in org.jivesoftware.openfire.pubsub">DefaultNodeConfiguration</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/jivesoftware/openfire/pubsub/PubSubPersistenceManager.html#loadDefaultConfiguration(org.jivesoftware.openfire.pubsub.PubSubService, boolean)">loadDefaultConfiguration</A></B>(<A HREF="../../../../org/jivesoftware/openfire/pubsub/PubSubService.html" title="interface in org.jivesoftware.openfire.pubsub">PubSubService</A>&nbsp;service,
                         boolean&nbsp;isLeafType)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Loads from the database the default node configuration for the specified node type
 and pubsub service.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/jivesoftware/openfire/pubsub/PubSubPersistenceManager.html#loadNode(org.jivesoftware.openfire.pubsub.PubSubService, java.lang.String)">loadNode</A></B>(<A HREF="../../../../org/jivesoftware/openfire/pubsub/PubSubService.html" title="interface in org.jivesoftware.openfire.pubsub">PubSubService</A>&nbsp;service,
         <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;nodeId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Loads all nodes from the database and adds them to the PubSub service.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/jivesoftware/openfire/pubsub/PubSubPersistenceManager.html#loadNodes(org.jivesoftware.openfire.pubsub.PubSubService)">loadNodes</A></B>(<A HREF="../../../../org/jivesoftware/openfire/pubsub/PubSubService.html" title="interface in org.jivesoftware.openfire.pubsub">PubSubService</A>&nbsp;service)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Loads all nodes from the database and adds them to the PubSub service.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/jivesoftware/openfire/pubsub/PubSubPersistenceManager.html#loadSubscription(org.jivesoftware.openfire.pubsub.PubSubService, org.jivesoftware.openfire.pubsub.Node, java.lang.String)">loadSubscription</A></B>(<A HREF="../../../../org/jivesoftware/openfire/pubsub/PubSubService.html" title="interface in org.jivesoftware.openfire.pubsub">PubSubService</A>&nbsp;service,
                 <A HREF="../../../../org/jivesoftware/openfire/pubsub/Node.html" title="class in org.jivesoftware.openfire.pubsub">Node</A>&nbsp;node,
                 <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;subId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/jivesoftware/openfire/pubsub/PubSubPersistenceManager.html#purgeNode(org.jivesoftware.openfire.pubsub.LeafNode)">purgeNode</A></B>(<A HREF="../../../../org/jivesoftware/openfire/pubsub/LeafNode.html" title="class in org.jivesoftware.openfire.pubsub">LeafNode</A>&nbsp;leafNode)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/jivesoftware/openfire/pubsub/PubSubPersistenceManager.html#removeAffiliation(org.jivesoftware.openfire.pubsub.Node, org.jivesoftware.openfire.pubsub.NodeAffiliate)">removeAffiliation</A></B>(<A HREF="../../../../org/jivesoftware/openfire/pubsub/Node.html" title="class in org.jivesoftware.openfire.pubsub">Node</A>&nbsp;node,
                  <A HREF="../../../../org/jivesoftware/openfire/pubsub/NodeAffiliate.html" title="class in org.jivesoftware.openfire.pubsub">NodeAffiliate</A>&nbsp;affiliate)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes the affiliation and subsription state of the user from the DB.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/jivesoftware/openfire/pubsub/PubSubPersistenceManager.html#removeNode(org.jivesoftware.openfire.pubsub.Node)">removeNode</A></B>(<A HREF="../../../../org/jivesoftware/openfire/pubsub/Node.html" title="class in org.jivesoftware.openfire.pubsub">Node</A>&nbsp;node)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes the specified node from the DB.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/jivesoftware/openfire/pubsub/PubSubPersistenceManager.html#removePublishedItem(org.jivesoftware.openfire.pubsub.PublishedItem)">removePublishedItem</A></B>(<A HREF="../../../../org/jivesoftware/openfire/pubsub/PublishedItem.html" title="class in org.jivesoftware.openfire.pubsub">PublishedItem</A>&nbsp;item)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes the specified published item from the DB.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/jivesoftware/openfire/pubsub/PubSubPersistenceManager.html#removeSubscription(org.jivesoftware.openfire.pubsub.NodeSubscription)">removeSubscription</A></B>(<A HREF="../../../../org/jivesoftware/openfire/pubsub/NodeSubscription.html" title="class in org.jivesoftware.openfire.pubsub">NodeSubscription</A>&nbsp;subscription)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes the subscription of the user from the DB.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/jivesoftware/openfire/pubsub/PubSubPersistenceManager.html#saveAffiliation(org.jivesoftware.openfire.pubsub.Node, org.jivesoftware.openfire.pubsub.NodeAffiliate, boolean)">saveAffiliation</A></B>(<A HREF="../../../../org/jivesoftware/openfire/pubsub/Node.html" title="class in org.jivesoftware.openfire.pubsub">Node</A>&nbsp;node,
                <A HREF="../../../../org/jivesoftware/openfire/pubsub/NodeAffiliate.html" title="class in org.jivesoftware.openfire.pubsub">NodeAffiliate</A>&nbsp;affiliate,
                boolean&nbsp;create)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Update the DB with the new affiliation of the user in the node.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/jivesoftware/openfire/pubsub/PubSubPersistenceManager.html#savePublishedItem(org.jivesoftware.openfire.pubsub.PublishedItem)">savePublishedItem</A></B>(<A HREF="../../../../org/jivesoftware/openfire/pubsub/PublishedItem.html" title="class in org.jivesoftware.openfire.pubsub">PublishedItem</A>&nbsp;item)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates and stores the published item in the database.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/jivesoftware/openfire/pubsub/PubSubPersistenceManager.html#saveSubscription(org.jivesoftware.openfire.pubsub.Node, org.jivesoftware.openfire.pubsub.NodeSubscription, boolean)">saveSubscription</A></B>(<A HREF="../../../../org/jivesoftware/openfire/pubsub/Node.html" title="class in org.jivesoftware.openfire.pubsub">Node</A>&nbsp;node,
                 <A HREF="../../../../org/jivesoftware/openfire/pubsub/NodeSubscription.html" title="class in org.jivesoftware.openfire.pubsub">NodeSubscription</A>&nbsp;subscription,
                 boolean&nbsp;create)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Updates the DB with the new subsription of the user to the node.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/jivesoftware/openfire/pubsub/PubSubPersistenceManager.html#shutdown()">shutdown</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/jivesoftware/openfire/pubsub/PubSubPersistenceManager.html#updateDefaultConfiguration(org.jivesoftware.openfire.pubsub.PubSubService, org.jivesoftware.openfire.pubsub.DefaultNodeConfiguration)">updateDefaultConfiguration</A></B>(<A HREF="../../../../org/jivesoftware/openfire/pubsub/PubSubService.html" title="interface in org.jivesoftware.openfire.pubsub">PubSubService</A>&nbsp;service,
                           <A HREF="../../../../org/jivesoftware/openfire/pubsub/DefaultNodeConfiguration.html" title="class in org.jivesoftware.openfire.pubsub">DefaultNodeConfiguration</A>&nbsp;config)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Updates the default node configuration for the specified service.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/jivesoftware/openfire/pubsub/PubSubPersistenceManager.html#updateNode(org.jivesoftware.openfire.pubsub.Node)">updateNode</A></B>(<A HREF="../../../../org/jivesoftware/openfire/pubsub/Node.html" title="class in org.jivesoftware.openfire.pubsub">Node</A>&nbsp;node)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Updates the node configuration in the database.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="PubSubPersistenceManager()"><!-- --></A><H3>
PubSubPersistenceManager</H3>
<PRE>
public <B>PubSubPersistenceManager</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="createNode(org.jivesoftware.openfire.pubsub.Node)"><!-- --></A><H3>
createNode</H3>
<PRE>
public static void <B>createNode</B>(<A HREF="../../../../org/jivesoftware/openfire/pubsub/Node.html" title="class in org.jivesoftware.openfire.pubsub">Node</A>&nbsp;node)</PRE>
<DL>
<DD>Creates and stores the node configuration in the database.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>node</CODE> - The newly created node.</DL>
</DD>
</DL>
<HR>

<A NAME="updateNode(org.jivesoftware.openfire.pubsub.Node)"><!-- --></A><H3>
updateNode</H3>
<PRE>
public static void <B>updateNode</B>(<A HREF="../../../../org/jivesoftware/openfire/pubsub/Node.html" title="class in org.jivesoftware.openfire.pubsub">Node</A>&nbsp;node)</PRE>
<DL>
<DD>Updates the node configuration in the database.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>node</CODE> - The updated node.</DL>
</DD>
</DL>
<HR>

<A NAME="removeNode(org.jivesoftware.openfire.pubsub.Node)"><!-- --></A><H3>
removeNode</H3>
<PRE>
public static boolean <B>removeNode</B>(<A HREF="../../../../org/jivesoftware/openfire/pubsub/Node.html" title="class in org.jivesoftware.openfire.pubsub">Node</A>&nbsp;node)</PRE>
<DL>
<DD>Removes the specified node from the DB.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>node</CODE> - The node that is being deleted.
<DT><B>Returns:</B><DD>true If the operation was successful.</DL>
</DD>
</DL>
<HR>

<A NAME="loadNodes(org.jivesoftware.openfire.pubsub.PubSubService)"><!-- --></A><H3>
loadNodes</H3>
<PRE>
public static void <B>loadNodes</B>(<A HREF="../../../../org/jivesoftware/openfire/pubsub/PubSubService.html" title="interface in org.jivesoftware.openfire.pubsub">PubSubService</A>&nbsp;service)</PRE>
<DL>
<DD>Loads all nodes from the database and adds them to the PubSub service.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>service</CODE> - the pubsub service that is hosting the nodes.</DL>
</DD>
</DL>
<HR>

<A NAME="loadNode(org.jivesoftware.openfire.pubsub.PubSubService, java.lang.String)"><!-- --></A><H3>
loadNode</H3>
<PRE>
public static void <B>loadNode</B>(<A HREF="../../../../org/jivesoftware/openfire/pubsub/PubSubService.html" title="interface in org.jivesoftware.openfire.pubsub">PubSubService</A>&nbsp;service,
                            <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;nodeId)</PRE>
<DL>
<DD>Loads all nodes from the database and adds them to the PubSub service.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>service</CODE> - the pubsub service that is hosting the nodes.</DL>
</DD>
</DL>
<HR>

<A NAME="loadSubscription(org.jivesoftware.openfire.pubsub.PubSubService, org.jivesoftware.openfire.pubsub.Node, java.lang.String)"><!-- --></A><H3>
loadSubscription</H3>
<PRE>
public static void <B>loadSubscription</B>(<A HREF="../../../../org/jivesoftware/openfire/pubsub/PubSubService.html" title="interface in org.jivesoftware.openfire.pubsub">PubSubService</A>&nbsp;service,
                                    <A HREF="../../../../org/jivesoftware/openfire/pubsub/Node.html" title="class in org.jivesoftware.openfire.pubsub">Node</A>&nbsp;node,
                                    <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;subId)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="saveAffiliation(org.jivesoftware.openfire.pubsub.Node, org.jivesoftware.openfire.pubsub.NodeAffiliate, boolean)"><!-- --></A><H3>
saveAffiliation</H3>
<PRE>
public static void <B>saveAffiliation</B>(<A HREF="../../../../org/jivesoftware/openfire/pubsub/Node.html" title="class in org.jivesoftware.openfire.pubsub">Node</A>&nbsp;node,
                                   <A HREF="../../../../org/jivesoftware/openfire/pubsub/NodeAffiliate.html" title="class in org.jivesoftware.openfire.pubsub">NodeAffiliate</A>&nbsp;affiliate,
                                   boolean&nbsp;create)</PRE>
<DL>
<DD>Update the DB with the new affiliation of the user in the node.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>node</CODE> - The node where the affiliation of the user was updated.<DD><CODE>affiliate</CODE> - The new affiliation of the user in the node.<DD><CODE>create</CODE> - True if this is a new affiliate.</DL>
</DD>
</DL>
<HR>

<A NAME="removeAffiliation(org.jivesoftware.openfire.pubsub.Node, org.jivesoftware.openfire.pubsub.NodeAffiliate)"><!-- --></A><H3>
removeAffiliation</H3>
<PRE>
public static void <B>removeAffiliation</B>(<A HREF="../../../../org/jivesoftware/openfire/pubsub/Node.html" title="class in org.jivesoftware.openfire.pubsub">Node</A>&nbsp;node,
                                     <A HREF="../../../../org/jivesoftware/openfire/pubsub/NodeAffiliate.html" title="class in org.jivesoftware.openfire.pubsub">NodeAffiliate</A>&nbsp;affiliate)</PRE>
<DL>
<DD>Removes the affiliation and subsription state of the user from the DB.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>node</CODE> - The node where the affiliation of the user was updated.<DD><CODE>affiliate</CODE> - The existing affiliation and subsription state of the user in the node.</DL>
</DD>
</DL>
<HR>

<A NAME="saveSubscription(org.jivesoftware.openfire.pubsub.Node, org.jivesoftware.openfire.pubsub.NodeSubscription, boolean)"><!-- --></A><H3>
saveSubscription</H3>
<PRE>
public static void <B>saveSubscription</B>(<A HREF="../../../../org/jivesoftware/openfire/pubsub/Node.html" title="class in org.jivesoftware.openfire.pubsub">Node</A>&nbsp;node,
                                    <A HREF="../../../../org/jivesoftware/openfire/pubsub/NodeSubscription.html" title="class in org.jivesoftware.openfire.pubsub">NodeSubscription</A>&nbsp;subscription,
                                    boolean&nbsp;create)</PRE>
<DL>
<DD>Updates the DB with the new subsription of the user to the node.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>node</CODE> - The node where the user has subscribed to.<DD><CODE>subscription</CODE> - The new subscription of the user to the node.<DD><CODE>create</CODE> - True if this is a new affiliate.</DL>
</DD>
</DL>
<HR>

<A NAME="removeSubscription(org.jivesoftware.openfire.pubsub.NodeSubscription)"><!-- --></A><H3>
removeSubscription</H3>
<PRE>
public static void <B>removeSubscription</B>(<A HREF="../../../../org/jivesoftware/openfire/pubsub/NodeSubscription.html" title="class in org.jivesoftware.openfire.pubsub">NodeSubscription</A>&nbsp;subscription)</PRE>
<DL>
<DD>Removes the subscription of the user from the DB.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>subscription</CODE> - The existing subsription of the user to the node.</DL>
</DD>
</DL>
<HR>

<A NAME="savePublishedItem(org.jivesoftware.openfire.pubsub.PublishedItem)"><!-- --></A><H3>
savePublishedItem</H3>
<PRE>
public static void <B>savePublishedItem</B>(<A HREF="../../../../org/jivesoftware/openfire/pubsub/PublishedItem.html" title="class in org.jivesoftware.openfire.pubsub">PublishedItem</A>&nbsp;item)</PRE>
<DL>
<DD>Creates and stores the published item in the database. Note that the
 item will be cached temporarily before being flushed asynchronously 
 to the database. The write cache can be tuned using the following
 two properties:
 <pre>
   "xmpp.pubsub.flush.max" - maximum items in the cache (-1 to disable cache)
   "xmpp.pubsub.flush.timer" - number of seconds between cache flushes
 </pre>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>item</CODE> - The published item to save.</DL>
</DD>
</DL>
<HR>

<A NAME="flushPendingItems()"><!-- --></A><H3>
flushPendingItems</H3>
<PRE>
public static void <B>flushPendingItems</B>()</PRE>
<DL>
<DD>Flush the cache(s) of items to be persisted (itemsToAdd) and deleted (itemsToDelete).
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="flushPendingItems(boolean)"><!-- --></A><H3>
flushPendingItems</H3>
<PRE>
public static void <B>flushPendingItems</B>(boolean&nbsp;sendToCluster)</PRE>
<DL>
<DD>Flush the cache(s) of items to be persisted (itemsToAdd) and deleted (itemsToDelete).
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sendToCluster</CODE> - If true, delegate to cluster members, otherwise local only</DL>
</DD>
</DL>
<HR>

<A NAME="removePublishedItem(org.jivesoftware.openfire.pubsub.PublishedItem)"><!-- --></A><H3>
removePublishedItem</H3>
<PRE>
public static void <B>removePublishedItem</B>(<A HREF="../../../../org/jivesoftware/openfire/pubsub/PublishedItem.html" title="class in org.jivesoftware.openfire.pubsub">PublishedItem</A>&nbsp;item)</PRE>
<DL>
<DD>Removes the specified published item from the DB.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>item</CODE> - The published item to delete.</DL>
</DD>
</DL>
<HR>

<A NAME="loadDefaultConfiguration(org.jivesoftware.openfire.pubsub.PubSubService, boolean)"><!-- --></A><H3>
loadDefaultConfiguration</H3>
<PRE>
public static <A HREF="../../../../org/jivesoftware/openfire/pubsub/DefaultNodeConfiguration.html" title="class in org.jivesoftware.openfire.pubsub">DefaultNodeConfiguration</A> <B>loadDefaultConfiguration</B>(<A HREF="../../../../org/jivesoftware/openfire/pubsub/PubSubService.html" title="interface in org.jivesoftware.openfire.pubsub">PubSubService</A>&nbsp;service,
                                                                boolean&nbsp;isLeafType)</PRE>
<DL>
<DD>Loads from the database the default node configuration for the specified node type
 and pubsub service.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>service</CODE> - the default node configuration used by this pubsub service.<DD><CODE>isLeafType</CODE> - true if loading default configuration for leaf nodes.
<DT><B>Returns:</B><DD>the loaded default node configuration for the specified node type and service
         or <tt>null</tt> if none was found.</DL>
</DD>
</DL>
<HR>

<A NAME="createDefaultConfiguration(org.jivesoftware.openfire.pubsub.PubSubService, org.jivesoftware.openfire.pubsub.DefaultNodeConfiguration)"><!-- --></A><H3>
createDefaultConfiguration</H3>
<PRE>
public static void <B>createDefaultConfiguration</B>(<A HREF="../../../../org/jivesoftware/openfire/pubsub/PubSubService.html" title="interface in org.jivesoftware.openfire.pubsub">PubSubService</A>&nbsp;service,
                                              <A HREF="../../../../org/jivesoftware/openfire/pubsub/DefaultNodeConfiguration.html" title="class in org.jivesoftware.openfire.pubsub">DefaultNodeConfiguration</A>&nbsp;config)</PRE>
<DL>
<DD>Creates a new default node configuration for the specified service.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>service</CODE> - the default node configuration used by this pubsub service.<DD><CODE>config</CODE> - the default node configuration to create in the database.</DL>
</DD>
</DL>
<HR>

<A NAME="updateDefaultConfiguration(org.jivesoftware.openfire.pubsub.PubSubService, org.jivesoftware.openfire.pubsub.DefaultNodeConfiguration)"><!-- --></A><H3>
updateDefaultConfiguration</H3>
<PRE>
public static void <B>updateDefaultConfiguration</B>(<A HREF="../../../../org/jivesoftware/openfire/pubsub/PubSubService.html" title="interface in org.jivesoftware.openfire.pubsub">PubSubService</A>&nbsp;service,
                                              <A HREF="../../../../org/jivesoftware/openfire/pubsub/DefaultNodeConfiguration.html" title="class in org.jivesoftware.openfire.pubsub">DefaultNodeConfiguration</A>&nbsp;config)</PRE>
<DL>
<DD>Updates the default node configuration for the specified service.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>service</CODE> - the default node configuration used by this pubsub service.<DD><CODE>config</CODE> - the default node configuration to update in the database.</DL>
</DD>
</DL>
<HR>

<A NAME="getPublishedItems(org.jivesoftware.openfire.pubsub.LeafNode)"><!-- --></A><H3>
getPublishedItems</H3>
<PRE>
public static <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;<A HREF="../../../../org/jivesoftware/openfire/pubsub/PublishedItem.html" title="class in org.jivesoftware.openfire.pubsub">PublishedItem</A>&gt; <B>getPublishedItems</B>(<A HREF="../../../../org/jivesoftware/openfire/pubsub/LeafNode.html" title="class in org.jivesoftware.openfire.pubsub">LeafNode</A>&nbsp;node)</PRE>
<DL>
<DD>Fetches all the results for the specified node, limited by <A HREF="../../../../org/jivesoftware/openfire/pubsub/LeafNode.html#getMaxPublishedItems()"><CODE>LeafNode.getMaxPublishedItems()</CODE></A>.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>node</CODE> - the leaf node to load its published items.</DL>
</DD>
</DL>
<HR>

<A NAME="getPublishedItems(org.jivesoftware.openfire.pubsub.LeafNode, int)"><!-- --></A><H3>
getPublishedItems</H3>
<PRE>
public static <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;<A HREF="../../../../org/jivesoftware/openfire/pubsub/PublishedItem.html" title="class in org.jivesoftware.openfire.pubsub">PublishedItem</A>&gt; <B>getPublishedItems</B>(<A HREF="../../../../org/jivesoftware/openfire/pubsub/LeafNode.html" title="class in org.jivesoftware.openfire.pubsub">LeafNode</A>&nbsp;node,
                                                    int&nbsp;maxRows)</PRE>
<DL>
<DD>Fetches all the results for the specified node, limited by <A HREF="../../../../org/jivesoftware/openfire/pubsub/LeafNode.html#getMaxPublishedItems()"><CODE>LeafNode.getMaxPublishedItems()</CODE></A>.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>node</CODE> - the leaf node to load its published items.</DL>
</DD>
</DL>
<HR>

<A NAME="getLastPublishedItem(org.jivesoftware.openfire.pubsub.LeafNode)"><!-- --></A><H3>
getLastPublishedItem</H3>
<PRE>
public static <A HREF="../../../../org/jivesoftware/openfire/pubsub/PublishedItem.html" title="class in org.jivesoftware.openfire.pubsub">PublishedItem</A> <B>getLastPublishedItem</B>(<A HREF="../../../../org/jivesoftware/openfire/pubsub/LeafNode.html" title="class in org.jivesoftware.openfire.pubsub">LeafNode</A>&nbsp;node)</PRE>
<DL>
<DD>Fetches the last published item for the specified node.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>node</CODE> - the leaf node to load its last published items.</DL>
</DD>
</DL>
<HR>

<A NAME="getPublishedItem(org.jivesoftware.openfire.pubsub.LeafNode, java.lang.String)"><!-- --></A><H3>
getPublishedItem</H3>
<PRE>
public static <A HREF="../../../../org/jivesoftware/openfire/pubsub/PublishedItem.html" title="class in org.jivesoftware.openfire.pubsub">PublishedItem</A> <B>getPublishedItem</B>(<A HREF="../../../../org/jivesoftware/openfire/pubsub/LeafNode.html" title="class in org.jivesoftware.openfire.pubsub">LeafNode</A>&nbsp;node,
                                             <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;itemID)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="purgeNode(org.jivesoftware.openfire.pubsub.LeafNode)"><!-- --></A><H3>
purgeNode</H3>
<PRE>
public static void <B>purgeNode</B>(<A HREF="../../../../org/jivesoftware/openfire/pubsub/LeafNode.html" title="class in org.jivesoftware.openfire.pubsub">LeafNode</A>&nbsp;leafNode)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="shutdown()"><!-- --></A><H3>
shutdown</H3>
<PRE>
public static void <B>shutdown</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<b>Openfire 3.9.3 Javadoc</b></EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/jivesoftware/openfire/pubsub/PubSubModule.html" title="class in org.jivesoftware.openfire.pubsub"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/jivesoftware/openfire/pubsub/PubSubService.html" title="interface in org.jivesoftware.openfire.pubsub"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/jivesoftware/openfire/pubsub/PubSubPersistenceManager.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="PubSubPersistenceManager.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
<i>Copyright &copy; 2003-2008 Jive Software.</i>
</BODY>
</HTML>
